# Pre-commit workflow:
# 1. Auto-fix lint and formatting issues
# 2. Auto-add any changes made by linters/formatters
# 3. Run TypeScript type checking, linting, and formatting checks

echo "ğŸ”§ Auto-fixing lint and formatting issues..."
bun run pre-commit:fix

# Check if any files were modified by the linter/formatter
if ! git diff --quiet; then
  echo "ğŸ“ Linter made changes, auto-adding them to commit..."
  git add .
else
  echo "ğŸ“ No changes made by linter"
fi

echo "âœ… Running final checks..."
bun run pre-commit:check

echo "ğŸ‰ Pre-commit checks passed!"
